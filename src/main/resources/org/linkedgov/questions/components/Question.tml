<div class="question" xmlns:t="http://tapestry.apache.org/schema/tapestry_5_1_0.xsd">
	
	<t:form id="questionType" zone="resultsZone">
		<t:errors/>
		<t:select t:id="questionType" value="query.questionType"/>
		
		<t:select t:id="subject" class="subject" model="subjects" blankLabel="Of Type" value="query.subject"/>
		
		<div class="filtersContainer">
			<!-- TODO: split these out into a filter component??? -->
			<t:formFragment t:id="firstFilter" class="filter">
				<t:select class="predicate" t:id="firstPredicate" model="emptyList" blankLabel="${message:predicatesBlankLabel}" value="query.firstFilter.predicate"/>
				<t:formFragment t:id="firstSelectObjectEditor" class="objectContainer">
					<t:select class="object" t:id="firstObject" model="emptyList" blankLabel="${message:objectsBlankLabel}" value="query.firstFilter.object"/>
				</t:formFragment>
				<t:formFragment t:id="firstFreetextObjectEditor" class="objectContainer" visible="true">
					<t:TextField class="object"  t:id="firstFreeTextObject" model="emptyList" blankLabel="${message:objectsBlankLabel}" value="query.firstFilter.object"/>
				</t:formFragment>
				<t:formFragment t:id="firstLocationObjectEditor" class="objectContainer">	
					<t:TextField class="object"  t:id="firstLocationObject" model="emptyList" blankLabel="${message:objectsBlankLabel}" value="query.firstFilter.object"/>
				</t:formFragment>
			</t:formFragment>
			<br/>
			<t:formFragment t:id="secondFilter" class="filter">
				<!-- TODO: split these out into a filter component??? -->
				<t:select class="predicate" t:id="secondPredicate" model="emptyList"  blankLabel="${message:predicatesBlankLabel}" value="query.secondFilter.predicate"/>
				<t:formFragment t:id="secondSelectObjectEditor"  class="objectContainer">
					<t:select class="object" t:id="secondSelectObject" model="emptyList" blankLabel="${message:objectsBlankLabel}" value="query.secondFilter.object"/>
				</t:formFragment>
				<t:formFragment t:id="secondFreetextObjectEditor" class="objectContainer" visible="true">
					<t:TextField class="object"  t:id="secondFreeTextObject" model="emptyList" blankLabel="${message:objectsBlankLabel}" value="query.secondFilter.object"/>
				</t:formFragment>
				<t:formFragment t:id="secondLocationObjectEditor" class="objectContainer">	
					<t:TextField class="object"  t:id="secondLocationObject" model="emptyList" blankLabel="${message:objectsBlankLabel}" value="query.secondFilter.object"/>
				</t:formFragment>
			</t:formFragment>
		</div>
		<div>
			<t:formFragment class="removeFilterContainer">
				<button id="removeFilter" type="button" class="removeFilter" href="#">-</button>
			</t:formFragment>
			<t:formFragment class="addFilterContainer" visible="true">
				<button id="addFilter" type="button" class="addFilter" href="#">+</button>
			</t:formFragment>
		</div>
		
		<t:submit t:id="ask" value="Ask"/>
		
		<t:zone t:id="resultsZone">
			<t:results query="query"/>
		</t:zone>
	</t:form>
</div>